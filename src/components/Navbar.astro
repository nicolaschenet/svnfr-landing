---
// Navbar component
import { Image } from "astro:assets";
import LogoImage from "../images/svnfr-logo-tall.png";
---

<nav class="top-nav">
  <div class="logo">
    <a href="#" class="logo-link">
      <Image
        src={LogoImage}
        alt="SVNFR"
        class="logo-image"
        width={110}
        height={44}
        densities={[1, 2]}
        format="webp"
        loading="eager"
        style="opacity: 0"
      />
    </a>
  </div>
  <button class="mobile-toggle" aria-label="Toggle navigation">
    <i class="fa-solid fa-bars"></i>
  </button>
  <div class="nav-container">
    <ul class="nav-links">
      <li><a href="#about">About</a></li>
      <li><a href="#music">Music</a></li>
    </ul>
    <ul class="social-links">
      <li>
        <a
          href="https://open.spotify.com/artist/6eq5vjBkTOIHO6uDqqwl82?si=56Jo_4-QRIa3Gem20eGaAQ"
          target="_blank"
          title="Spotify"
        >
          <i class="fa-brands fa-spotify"></i>
        </a>
      </li>
      <li>
        <a
          href="https://music.apple.com/us/artist/svnfr/1811239550"
          target="_blank"
          title="Apple Music"
        >
          <i class="fa-brands fa-apple"></i>
        </a>
      </li>
      <li>
        <a href="https://svnfr.bandcamp.com" target="_blank" title="Bandcamp">
          <i class="fa-brands fa-bandcamp"></i>
        </a>
      </li>
    </ul>
    <ul class="social-links">
      <li>
        <a
          href="https://instagram.com/svnfr_music"
          target="_blank"
          title="Instagram"
        >
          <i class="fa-brands fa-instagram"></i>
        </a>
      </li>
      <li>
        <a href="https://x.com/svnfr_music" target="_blank" title="X">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      </li>
    </ul>
  </div>
</nav>

<style>
  .logo-image {
    height: auto;
    width: 55px; /* Match the rendered width */
    display: block;
    filter: brightness(1.15);
    transition:
      opacity 0.3s ease,
      transform 0.3s ease; /* Smooth transitions */
    transform-origin: center;
    will-change: opacity, transform; /* Optimize for animation */
  }

  .logo-link {
    display: flex;
    align-items: center;
  }

  @media (max-width: 640px) {
    .logo-image {
      width: 44px; /* Slightly smaller for mobile */
    }
  }
</style>

<script is:inline>
  // Ensure logo is hidden initially
  document.addEventListener("DOMContentLoaded", function () {
    const logo = document.querySelector(".logo-image");
    if (logo) {
      logo.style.opacity = "0";
    }
  });
</script>
